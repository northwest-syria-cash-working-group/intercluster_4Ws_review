---
title: "Intercluster 4Ws review"
date:  "23 March 2023"
output:
  html_document:
    code_download: yes
    theme: readable
    toc: yes
    toc_depth: 4
    toc_float: yes
    number_sections: no
    collapsed: no
always_allow_html: yes
---

```{css, echo=FALSE}

#TOC::before {
  content: "";
  display: block;
  height: 70px;
  margin: 2em 20px 40px 20px;
  background-image: url("NWS-CWG logo.PNG");
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
}
```

```{=html}
<style>
    body .main-container {
        max-width: 1280px;
    }
</style>
```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, fig.width=9, message = FALSE, warning=FALSE)
library(tidyverse)
library(readxl)
library(lubridate)
library(stringi)
library(pander)
library(janitor)
library(scales)
library(magrittr)
library(viridis)
library(patchwork)
library(DT)
library(sf)
library(plotly)
library(flextable)
library(ggrepel)
library(magrittr)
library(readxlsb)
library(tidymodels)
library(widyr)
library(tidytext)

theme_set(theme_light())

# disabling scientific notation
options(scipen = 100)

# pander tables all in one row
panderOptions('table.split.table', Inf)

# pander thousands separator
panderOptions("big.mark", ",")

# replace 
opts <- options(knitr.kable.NA = "")

`%out%` <- Negate(`%in%`)

# function for transposing df
transpose_df <- function(df) {
  t_df <- data.table::transpose(df)
  colnames(t_df) <- rownames(df)
  rownames(t_df) <- colnames(df)
  t_df <- t_df %>%
    tibble::rownames_to_column(.data = .) %>%
    tibble::as_tibble(.)
  return(t_df)
}

# scaling functions 
range01 <- function(x){(x-min(x))/(max(x)-min(x))}
range_wna <- function(x){(x-min(x, na.rm = TRUE))/(max(x, na.rm = TRUE)-min(x, na.rm = TRUE))}

#mode function 
mode <- function(x) {
  ux <- unique(x)
  ux[which.max(tabulate(match(x, ux)))]
}

```

```{r data}
pcode3_shape <- 
  sf::st_read("./data/syr_admbnda_uncs_unocha_20201217/syr_admbnda_adm3_uncs_unocha_20201217.shp", 
          quiet = TRUE)

nw_pcode3 <- read_excel("./data/2023HNO_PiN_Severity_detailedAoI_FORSHARE 15032023.xlsx", skip = 1, 
                  sheet = 1) %>%
  clean_names() %>% 
  filter(ao_c == "NW") %>% 
  pull(admin3pcode)

locations <- read_excel("./data/Locations.xlsx") %>% 
  clean_names()

pop <- read_excel("./data/Population_Data_May_2022_final_01122022_with_SADD.xlsx", 
           sheet = 5, 
           skip = 2) %>% 
  clean_names() %>% 
  select(admin0name_en:longitude_x, 
         final_est_of_id_ps_may_2022:family_avg_size_total_pop) %>% 
  rename(idps = final_est_of_id_ps_may_2022, 
         total_pop = final_est_of_total_pop_may_2022, 
         avg_family_size = family_avg_size_total_pop) %>% 
  filter(admin3pcode %in% nw_pcode3)

names_eq <- c(
  "date",
  "governorate",
  "district",
  "sub_district",
  "community",
  "admin4",
  "casualties",
  "injuries",
  "completely_destroyed_houses",
  "damaged_unihabitable_houses",
  "temporary_accommodation_centres",
  "idps_in_all_centres",
  "schools_as_accomodation_centres",
  "idps_in_schools",
  "tents_needed",
  "blankets_mattresses_needed",
  "temporary_accommodation_centres_available", 
  "accessible_civil_defense",
  "latrines_available",
  "meals_needed_per_day",
  "need_blood_donations",
  "health_services_available",
  "necessary_medical_equipment",
  "rubble_volunteers",
  "telecoms_available",
  "electricity_available", 
  "heating_fuel_needed"
)

eq <- read_excel("./data/syria-earthquake-impact-20-march-2023.xlsx",
                 sheet = "DATASET") %>% 
  setNames(names_eq)

com <- read_csv("./data/com.csv")
```


# 1. Summary 

In preparation of consolidating and reporting on all cash and voucher-based activities (CVA), not just multipurpose cash, the Cash Working Group has undertaken a review of extant 4W templates to understand their interoperability. 

Interoperability (and adherence to cash reporting standards) is judged by the inclusion of the following data within 4Ws:

* **Admin4**: Data should at least be available at community level
* **Modality**: It is important to understand the breakdown, by cluster, of beneficiaries reached by cash, in-kind and service delivery
* **Delivery mechanism**: It is important to understand how many beneficiaries are reached by direct distributions, as opposed to those reached by agents or money traders
* **Conditionality**
* **Transfer value**
* **Frequency**: It is important to understand how much of the response is comprised of one-off activities vs continuing support

<br> 

```{r}
sum_table <- tribble(
  ~cluster, ~admin4, ~modality, ~delivery_mechanism, ~conditionality, ~transfer_value, ~frequency, 
  "Cash", TRUE, TRUE, TRUE, TRUE, TRUE, TRUE,
  "CCCM", TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, 
  "Education", TRUE, FALSE, FALSE, FALSE, FALSE, FALSE,
  "ERL", TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, 
  "FSL", TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, 
  "Health", FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, 
  "Nutrition", TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, 
  "Protection", TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, 
  "SNFI", TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, 
  "WASH", TRUE, FALSE, FALSE, FALSE, TRUE, FALSE
) 

colmatrix <- ifelse(sum_table[, -1] == TRUE, "#cceecc", "#eecccc")

sum_table %>% 
  rename(`Cluster/WG` = cluster) %>% 
  flextable() %>% 
  theme_zebra() %>% 
  bg(j = 2:7, bg=colmatrix) %>% 
  set_table_properties(layout = "autofit", width = .99) %>% 
  set_caption("Review of 4W templates -- alignment with cash reporting standards") 


```

<br>

Immediately, were Education, ERL, FSL and SNFI partners to directly provide their 4Ws to the CWG, exactly how they would normally submit it to their Cluster Coordinators and IMs, they could be directly integrated in current CWG reporting with minimal issues. It should also be mentioned that the proposed Whole-of-Syria 4Ws intercluster reporting template is also in full compliance with cash reporting standards. 

However, in the course of this review, the consolidation of the 4W data has created additional opportunities for multi-sector analysis. Several new metrics are now available, and their viability and utility will be discussed in their own sections: 

* The number of cluster per admin4 (useful for determining inter-cluster gaps i.e. are there any areas  where we are doing Education without Shelter? Nutrition without Food Security?) 

* The number of activities per admin4 (similar to above, but more detailed. Additionally, this, together with the number of beneficiary frequencies are useful in establishing a shorthand for the overall level of investment the humanitarian community has per community). 

* The number of beneficiary frequencies at admin4. This, together with the number of activities, will be used to determine how industry-wide resources have been allocated across Northwest Syria and if those allocations have been fair i.e. are there communities of similar pre-existing vulnerability and earthquake damage that have received drastically different levels of support? The number of activities and the number of beneficiary frequencies are what are most visible to communities anyway and will be interpreted by affected persons as a proxy of the level of humanitarian interest. 

However, inter-cluster coordination is not the purview of the Cash Working Group. Any recommendations made should be understood as mainly intended to improve the programmatic and operational decision-making capabilities of Cash Working Group partners. 

All code and data is available for download. We welcome any and all actors to make their own interpretations of the data.  



<br><br><br>

# 2. Consolidation

One consolidated multisector dataset (excluding Health) has been developed:

Overall, FSL has the broadest footprint of any cluster, being present in 444 communities, with ERL having the smallest, being present in 45. CCCM's footprint is much larger than what is shown below because ISIMM monitoring activities have not been included in these totals. 

<br>

```{r}

com %>% 
  # Should water quality testing be included? 
  filter(project_status %in% c("Completed", "Ongoing") & 
           activity %out% c("ISIMM")) %>% 
  group_by(cluster) %>% 
  summarise(rows = n(),
            ben_frequencies = sum(beneficiaries, na.rm = TRUE), 
            communities = n_distinct(admin4pcode)) %>% 
  arrange(desc(communities)) %>% 
  flextable() %>% 
  theme_zebra() %>% 
  set_caption("Footprint, reach and rows in combined dataset per cluster/WG") %>% 
  footnote(i = 1, j = 3, inline = TRUE, ref_symbols = "1", part = "header",
           as_paragraph("Beneficiary frequencies are the number of times an individual has received assistance, regardless double counting")) %>% 
  set_table_properties(layout = "autofit", width = .7)
```

<br>

The most obvious limitation, from a multisector perspective, is the exclusion of the Health data. It has been read it, but it cannot be combined with the rest of the data as there is no health reporting at admin4, likely due to them reporting based on the catchment area of each health facility. 

It is possible to perform a less-accurate analysis at admin3 that includes all clusters (and would invovle discarding much more data), but the Cash Working Group sees more value in an admin4-level analysis. 

<br>


### 2.1 Unique individuals reached

From this consolidated dataset at admin4, the total number of unique individuals reach by the response in 2023 is estimated at `r com %>% filter(!is.na(admin4pcode) & activity != "ISIMM" & project_status %in% c("Completed", "Ongoing")) %>% group_by(admin4pcode) %>% slice(which.max(beneficiaries)) %>% {sum(.$beneficiaries, na.rm = TRUE)} %>% format(big.mark = ",")` persons. 

This figure was calculated by selecting the highest number of beneficiaries of any activity, of any sector, at the community level, after filtering out "ISIMM" monitoring activities. This is the specific code used for the calculation: 

```{r echo=TRUE, eval=FALSE}
# `com` is the name of the consolidated dataset 
com %>% 
  filter(!is.na(admin4pcode) & 
           activity != "ISIMM" & 
           project_status %in% c("Completed", "Ongoing")) %>%
  # Maximum of beneficiaries of any activity of any cluster, at admin4
  group_by(admin4pcode) %>% 
  slice(which.max(beneficiaries)) %>% 
  {sum(.$beneficiaries, na.rm = TRUE)}
```

An alternative calculation for unique individuals reached is proposed in the annexes.


### 2.2 Percentage of total population covered. 

```{r}
overallocated_communities <- com %>% 
  filter(!is.na(admin4pcode) & 
           activity != "ISIMM" & 
           project_status %in% c("Completed", "Ongoing")) %>%
  group_by(admin4pcode) %>% 
  slice(which.max(beneficiaries)) %>% 
  ungroup() %>% 
  left_join(pop %>% select(admin4pcode, total_pop),
            by = "admin4pcode") %>% 
  mutate(pc = beneficiaries / total_pop) %>% 
  filter(pc >= .95) %>% nrow()
```

There are `r overallocated_communities` communities where the number of unique individuals reached (highest number of any activity) is in excess of 95% of the community population. Below is a histogram of communities by the percentage of their populations reached. 

<br>

```{r}
com %>% 
  filter(!is.na(admin4pcode) & 
           activity != "ISIMM" & 
           project_status %in% c("Completed", "Ongoing")) %>%
  group_by(admin4pcode) %>% 
  slice(which.max(beneficiaries)) %>% 
  ungroup() %>% 
  left_join(pop %>% select(admin4pcode, total_pop), 
            by = "admin4pcode") %>% 
  mutate(pc = beneficiaries / total_pop) %>%
  ggplot(aes(x = pc)) + 
  geom_histogram() + 
  scale_x_log10(labels = percent) + 
  labs(x = "Percent of population covered", 
       title = "Percentage covered in communities reached by response")
```


Make a faceted histogram -- split communities into three groups <1000, <10000 and <100000

```{r}
size_means <- com %>% 
  filter(!is.na(admin4pcode) & 
           activity != "ISIMM" & 
           project_status %in% c("Completed", "Ongoing")) %>%
  group_by(admin4pcode) %>% 
  slice(which.max(beneficiaries)) %>% 
  ungroup() %>% 
  right_join(pop %>% 
              mutate(size_group = case_when(total_pop < 1000 ~ "Small, under 1,000",
                                total_pop >= 1000 & total_pop < 10000 ~ "Medium, 1,000 - 9,999",
                                total_pop >= 10000 & total_pop < 100000 ~ "Large, 10,000 - 99,999", 
                                total_pop >= 100000 ~ "Very large, 100,000 and above")) %>% 
              select(total_pop, size_group, admin4pcode), 
            by = "admin4pcode") %>% 
  group_by(size_group) %>% 
  summarise(total_pop = sum(total_pop), 
            beneficiaries = sum(beneficiaries, na.rm = TRUE)) %>% 
  mutate(pc = beneficiaries / total_pop)
  
   

com %>% 
  filter(!is.na(admin4pcode) & 
           activity != "ISIMM" & 
           project_status %in% c("Completed", "Ongoing")) %>%
  group_by(admin4pcode) %>% 
  slice(which.max(beneficiaries)) %>% 
  ungroup() %>% 
  right_join(pop %>% 
              mutate(size_group = case_when(total_pop < 1000 ~ "Small, under 1,000",
                                total_pop >= 1000 & total_pop < 10000 ~ "Medium, 1,000 - 9,999",
                                total_pop >= 10000 & total_pop < 100000 ~ "Large, 10,000 - 99,999", 
                                total_pop >= 100000 ~ "Very large, 100,000 and above")) %>% 
              select(total_pop, size_group, admin4pcode), 
            by = "admin4pcode") %>% 
  replace_na(list(beneficiaries = 0)) %>% 
  mutate(pc = beneficiaries / total_pop) %>% 
  ggplot(aes(x = pc)) + 
  geom_histogram() + 
  geom_vline(aes(xintercept = pc),
             colour = "blue", lty = 2, alpha = .7, 
             data = size_means) +
  geom_text(aes(label = percent(pc, accuracy = .1), 
                x = Inf, y = Inf,), hjust = 1, vjust = 1, 
            data = size_means) +
  scale_x_log10(labels = percent) + 
  scale_y_continuous() + 
  facet_grid(~ factor(size_group,
                      levels = c(
                        "Small, under 1,000",
                        "Medium, 1,000 - 9,999",
                        "Large, 10,000 - 99,999",
                        "Very large, 100,000 and above")), 
             scales = "free_y") + 
  labs("Percentage of population reached, by size of community", 
       x = "Percentage of population covered", 
       y = "Number of communities") + 
  theme(axis.text.x = element_text(angle = 50, hjust = .5, vjust = .5))
```
<br>

Coverage is highest is large communities, with coverage being lowest in small communities. A point of investigation would be whether this has to do with small communities being easily missable or if operational realities make it more "worth it" to establish a presence in larger communities over smaller ones. 

<br>

# 3. Cash-based response

### 3.1 Delivery modalities

Mainly CCCM and WASH do not specify delivery modalities in their 4Ws. Only a small proportion of Nutrition's entries do not have a delivery modality specified. 




<br>

```{r}
com %>% 
  filter(project_status %in% c("Completed", "Ongoing")) %>% 
  mutate(has_delivery_modality = ifelse(!is.na(delivery_modality), 
                                        "Yes", "No")) %>% 
  group_by(has_delivery_modality, cluster) %>% 
  summarise(rows = n(), 
            beneficiary_frequencies = sum(beneficiaries, na.rm = TRUE)) %>% 
  ungroup() %>% 
  filter(beneficiary_frequencies > 0) %>% 
  mutate(`%_frequencies` = 
           round(beneficiary_frequencies / sum(beneficiary_frequencies) * 100, digits = 2)) %>% 
  flextable() %>% 
  theme_zebra() %>% 
  set_caption("Beneficiary frequencies without specific delivery modalities")
```


<br>

```{r}
cva_pc <- com %>%  
  filter(project_status %in% c("Completed", "Ongoing") & activity != "ISIMM") %>% 
  replace_na(list(delivery_modality = "NA")) %>% 
  mutate(cva = ifelse(delivery_modality %in% c("Cash", "Voucher"), 
                      beneficiaries, 0)) %>% 
  summarise(cva = sum(cva, na.rm = TRUE), 
            ben_freq = sum(beneficiaries, na.rm = TRUE)) %>% 
  mutate(pc = round(cva / ben_freq * 100, digits = 2)) %>% 
  pull(pc)
```


`r cva_pc`% of beneficiary frequencies were reached by either cash or voucher modalities. 

<br>

```{r}
com %>%  
  filter(project_status %in% c("Completed", "Ongoing") & activity != "ISIMM") %>% 
  replace_na(list(delivery_modality = "NA")) %>% 
  mutate(delivery_modality = recode(delivery_modality,  
                                    "Service delivery/support" = "Service delivery", 
                                    "Rapide Response Team" = "Service delivery", 
                                    "Mobile Team" = "Service delivery", 
                                    "Training" = "Other", 
                                    "Remote/Distance" = "Other", 
                                    "Blended" = "Other")) %>%
  group_by(delivery_modality) %>% 
  summarise(rows = n(), 
            beneficiary_frequencies = sum(beneficiaries, na.rm = TRUE)) %>%
  mutate(`%_frequencies` = 
           round(beneficiary_frequencies / sum(beneficiary_frequencies) * 100, digits = 2)) %>% 
  arrange(desc(beneficiary_frequencies)) %>%
  flextable() %>% 
  theme_zebra() %>% 
  set_caption("Beneficiary frequencies by delivery modalities") %>% 
  set_table_properties(layout = "autofit", width = .9)

```

<br>

The percentage of beneficiary frequencies supported by CVA would be higher if all the `NAs` were filtered out, but given the nature of CCCM's activities to-date and that the column `total usd` in the WASH 4Ws is blank, it is likely that any additional CVA beneficiary frequencies is negligible. 

The CWG will continue monitoring these developments to see if there is increased commitment to and interest in CVA throughout the progress of the response. But, `r cva_pc`% will be set as our baseline. 

Below is a breakdown of CVA by cluster: 

<br>

```{r}
com %>%  
  filter(project_status %in% c("Completed", "Ongoing") & activity != "ISIMM") %>% 
  replace_na(list(delivery_modality = "NA")) %>% 
  mutate(cva = ifelse(delivery_modality %in% c("Cash", "Voucher"), 
                      beneficiaries, 0)) %>% 
  group_by(cluster) %>% 
  summarise(cva_ben_frequencies = sum(cva, na.rm = TRUE), 
            ben_frequencies = sum(beneficiaries, na.rm = TRUE)) %>% 
  mutate(`%_of_cluster` = round(cva_ben_frequencies / ben_frequencies * 100, digits = 2)) %>% 
  arrange(desc(`%_of_cluster`)) %>% 
  flextable() %>% 
  theme_zebra() %>% 
  set_caption("Breakdown of CVA by Cluster") %>% 
  set_table_properties(layout = "autofit", width = .8) 
```

<br>

The activities most likely to be implemented through CVA modalities are: 

<br>

```{r}
com %>%  
  filter(project_status %in% c("Completed", "Ongoing")) %>% 
  filter(delivery_modality %in% c("Cash", "Voucher")) %>% 
  group_by(activity, cluster) %>% 
  summarise(beneficiary_frequencies = sum(beneficiaries, na.rm = TRUE)) %>% 
  ungroup() %>% 
  arrange(desc(beneficiary_frequencies)) %>% 
  flextable() %>% 
  theme_zebra() %>% 
  set_caption("Breakdown of CVA by activity") %>% 
  set_table_properties(layout = "autofit", width = .8) 
```

<br>

Many of these activities have traditionally have had CVA components. However, notable attention should be called to the provision of seasonal and supplementary NFIs by the SNFI cluster -- significant effort was placed into monetising the winterisation package. Overall, no cluster has a higher percentage of its beneficiaries reached through CVA than the SNFI cluster (The CWG is not a cluster). 

<br><br><br>

# 4. Multisector programming

### 4.1 Presence of clusters

```{r}
com %>% 
  filter(!is.na(admin4pcode) & activity != "ISIMM") %>% 
  group_by(admin4pcode) %>% 
  summarise(sectors = n_distinct(cluster)) %>% 
  ggplot(aes(x = sectors)) + 
  geom_histogram(bins = 9) + 
  scale_x_continuous(breaks = seq(1, 9, by = 1)) + 
  geom_text(stat = "count", aes(label = after_stat(count)), vjust= - 0.5) +
  expand_limits(y = 260) + 
  labs(x = "Number of sectors", 
       y = "Number of communities", 
       title = "235 communities only have one cluster present")
```

```{r}

# Clusters operating alone
com %>% 
  filter(!is.na(admin4pcode) & activity != "ISIMM") %>% 
  group_by(admin4pcode, cluster) %>% 
  summarise(beneficiaries = sum(beneficiaries, na.rm = TRUE)) %>% 
  ungroup() %>% 
  pivot_wider(names_from = cluster, values_from = beneficiaries) %>%
  mutate(clusters = rowSums(!is.na(.[,-1]))) %>% 
  filter(clusters == 1) %>%
  
  summarise(cash = sum(!is.na(Cash)), 
            education = sum(!is.na(Education)), 
            fsl = sum(!is.na(FSL)), 
            nut = sum(!is.na(Nutrition)), 
            prot = sum(!is.na(Protection)), 
            snfi = sum(!is.na(SNFI)), 
            wash = sum(!is.na(WASH)), 
            erl = sum(!is.na(ERL)), 
            cccm = sum(!is.na(CCCM)), 
            edu = sum(!is.na(Education))) %>% 
  transpose_df()
  
  
```



### 4.2 Cluster pairs 

The interactive table below shows cluster pairs, the number of times they co-occur in the same community as well as their correlations. The table below is sorted by correlation in descending order. To interpret the table below: when the Education-Protection pair has a correlation of 0.499, this means that in 49.9% of the communities Protection is present in, Education is present as well. This pair can be found in 205 communities. 

The cluster pairs with the highest correlations all pertain to UNICEF-led clusters. This is commonsensical (though we will explore the programmatic depth of this multisector programming shortly), especially given that the Syria response is a long-standing programme and, over time, UNICEF's PCA partners will tend to agglomerate together or secure new PCAs in other UNICEF-led clusters i.e. an Education partner expanding into Protection activities.

<br>

```{r}
com %>% 
  filter(activity != "ISIMM") %>% 
  group_by(cluster, admin4pcode) %>% 
  summarise(count = n()) %>% 
  pairwise_cor(cluster, admin4pcode, value = count, 
               method = c("spearman"), upper = FALSE) %>% 
  arrange(desc(correlation)) %>% 
  left_join(
    com %>% 
      filter(activity != "ISIMM") %>% 
      pairwise_count(cluster, admin4pcode), 
    by = c("item1", "item2")
  ) %>% 
  rename(cluster1 = item1, 
         cluster2 = item2, 
         communities = n) %>% 
  mutate(correlation = round(correlation, digits = 3)) %>% 
  # Check to see if the addition of a title affects the scrollbar 
  # I would like 10 elements to always be visible without scrolling
  datatable(options = list(pageLength = 10, scrollY = FALSE), 
            filter = list(position = "top", clear = FALSE),
            caption = htmltools::tags$caption(style = 'caption-side: top; 
                                    text-align: center; font-size:120% ;',
                                    "Cluster pairs, correlations and co-occurences"))



```

<br>

However, only the correlations between Education-Nutrition and Education-Protection are markedly higher. Nutrition and WASH only co-occurring 44% of the time is not particularly laudable, given the [footprint](link to earlier section) of each of those clusters. 

Likewise, FSL and SNFI are so relatively-highly concentrated may be due to concerted inter-cluster coordination, or due to the very large footprint of FSL partners. What is beyond the scope of this report, and the CWG, is understanding the intentionality, or lack thereof, of these results. 

Clicking through to the end of the results, it is observed that the presence of ERL is lowly correlated with a wide range of clusters, including those to which it has quite natural programmatic ties -- there are any number of reasons for this. 

It could be that clusters/working groups with larger footprints were not judicious in their emergency-phase targeting, which ERL sought to mitigate in its own targeting. Or that medium-term FSL and Cash activities were interpreted to have met some portion of the early recovery needs, allowing ERL to expand to other areas.

It would be fallacious to assume that no inter-cluster coordination has occurred: multi-sector objectives are defined in the logframe, but their impacts on programmatic decisions is not clear. Additionally, what further hampers multi-sector programming is the whether the change the response seeks is broad (reaching as many as possible) or deep (concentrating service delivery in key areas). 

So, it would be correct to assume that inter-cluster coordination has not been codified -- as in, there is a level of strategic thinking missing between overall Strategic Objectives and Sector Objectives. The definition of where and how Cluster join and build on each other remains to be defined. Though of course, this might not be true within individual agencies, though given the anonymisation of partner names across clusters, this cannot be verified. 

<br><br>

### 4.3 Activity pairs

```{r}

com %>%
  filter(!is.na(admin4pcode) & !is.na(activity)) %>% 
  pairwise_count(activity, admin4pcode, sort = TRUE)
```





# A note on data quality








